<?xml version="1.0" encoding="utf-8" ?>
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2" assembly="Transport" namespace="Transport.OtherModels.farm">

  <class name="AppUser" lazy="false">
    <id name="UserId">
      <generator class="native"/>
    </id>
    
    <property name="Login"/>
    <property name="Name"/>
    <property name="Phone"/>
    <property name="Enabled"/>
          
    <many-to-one name="Department" column="DepartmentId" class="Department" not-null="false" fetch="join" outer-join="true" lazy="false"/>

    <bag name="UserGroups" inverse="false" lazy="false" fetch="subselect">
      <key column="UserId" />
      <many-to-many column="UserGroupId" class="UserGroup" />
    </bag>

    <bag name="UserOwners" inverse="false" lazy="false" fetch="subselect" >
      <key column="UserId" />
      <many-to-many column="OwnerId" class="TransportOwner" />
    </bag>


  </class>

</hibernate-mapping>